<style>
    .main-div-margin{
        margin-top: 10px;
        border-radius: 15px;

    }

    .input-type-custom{
        max-width: 50%;
        display: inline-block;
        border-color: black;
        border-width: 1.6px;
    }

    .left-input-box{
        margin-right: 3px;;
    }

    .checkbox-div{
        justify-content: center;
        align-items: center;
    }
    .form-class{
        margin-top:25px;
    }

    .image-class{
        height:400px;
        width:400px;
    }



</style>

<div>
    <header></header>
</div>

<div class="container-fluid d-flex margin-to-header">
    <div class="w-50 main-div-margin border border-dark border-2">
        <h1 class="text-center mt-3 fs-3 mb-2">Register Your User account</h1>
    <form class="mb-3 mx-5 form-class" [formGroup]="userCreationForm" (ngSubmit)="$event.preventDefault(); addUser()">
        <div class="mb-3 row">
          <input type="text" class="form-control input-type-custom col mx-1" formControlName="firstname" name="firstname" placeholder="First name">
          <input type="text" class="form-control input-type-custom col mx-1"  formControlName="lastname" name="lastname" placeholder="Last name">  
        </div>
        
        <div class="d-flex">
            <div class="w-50" *ngIf="userCreationForm.get('firstname')?.invalid && (userCreationForm.get('firstname')?.dirty || userCreationForm.get('firstname')?.touched)">
                <small *ngIf="userCreationForm.get('firstname')?.hasError('required')">
                    <p class="text-danger">First name is required</p>
                </small>
            </div>
    
            <div class="w-50" *ngIf="userCreationForm.get('lastname')?.invalid && (userCreationForm.get('lastname')?.dirty || userCreationForm.get('lastname')?.touched)">
                <small *ngIf="userCreationForm.get('lastname')?.hasError('required')">
                    <p class="text-danger">Last name is required</p>
                </small>
            </div>
        </div>

        <div class="mb-3 row">
            <input type="text" class="form-control input-type-custom col mx-1" formControlName="username" name="username" placeholder="Username">
            <input type="email" class="form-control input-type-custom col mx-1" formControlName="email" ngModel name="email" placeholder="Email">
        </div>

        <div class="d-flex">
            <div class="w-50" *ngIf="userCreationForm.get('username')?.invalid && (userCreationForm.get('username')?.dirty || userCreationForm.get('username')?.touched)">
                <small *ngIf="userCreationForm.get('username')?.hasError('required')">
                    <p class="text-danger">User name is required</p>
                </small>
            </div>
    
            <div class="w-50" *ngIf="userCreationForm.get('email')?.invalid && (userCreationForm.get('email')?.dirty || userCreationForm.get('email')?.touched)">
                <small *ngIf="userCreationForm.get('email')?.hasError('required')">
                    <p class="text-danger">email is required</p>
                </small>
            </div>
        </div>
        
        <!-- <input type="hidden" value="ROLE_USER" class="form-control input-type-custom col mx-1" ngModel name="role" placeholder="You are a User"> -->

        <div class="mb-3 row">
            <input type="password" class="form-control input-type-custom col mx-1" formControlName="password" name="password" placeholder="Password">
            <select class="form-select input-type-custom col" aria-label="Default select example" name="genderinput" formControlName="gender" (ngModelChange)="handleGenderValue($event)">
                <option selected>Select Gender(required)</option>
                <option value="1">MALE</option>
                <option value="2">FEMALE</option>
            </select>
        </div>

        <input type="hidden" formControlName="gender" class="form-control input-type-custom col mx-1" name="gender">
        <div class="d-flex">
            <div class="w-50" *ngIf="userCreationForm.get('password')?.invalid && (userCreationForm.get('password')?.dirty || userCreationForm.get('password')?.touched)">
                <small *ngIf="userCreationForm.get('password')?.hasError('required')">
                    <p class="text-danger">Password is required</p>
                </small>

                <small *ngIf="userCreationForm.get('password')?.hasError('minlength')">
                    <p class="text-danger">Password must have minimum of 7 characters</p>
                </small>
            </div>
    
            <div class="w-50" *ngIf="userCreationForm.get('gender')?.invalid && (userCreationForm.get('gender')?.dirty || userCreationForm.get('gender')?.touched)">
                <small *ngIf="userCreationForm.get('gender')?.hasError('required')">
                    <p class="text-danger">Gender is required</p>
                </small>
            </div>
        </div>

        <div class="mb-3 row">
            <input type="text" class="form-control input-type-custom col mx-1" name="phone" formControlName="phone" placeholder="phone">
            <select class="form-select input-type-custom col" aria-label="Default select example" name="input1" formControlName="district" (ngModelChange)="handleDistrictValue($event)">
                <option selected>Select District (Required)</option>
                <option value="1">AMPARA</option>
                <option value="2">ANURADHAPURA</option>
                <option value="3">BADULAA</option>
                <option value="4">BATTICALOA</option>
                <option value="5">COLOMBO</option>
                <option value="6">GALLE</option>
                <option value="7">GAMPAHA</option>
                <option value="8">HAMBANTHOTA</option>
                <option value="9">JAFFNA</option>
                <option value="10">KALUTHARA</option>
                <option value="11">KANDY</option>
                <option value="12">KEGALLE</option>
                <option value="13">KILINOCHCHI</option>
                <option value="14">KURUNEGALA</option>
                <option value="15">MANNER</option>
                <option value="16">MATALE</option>
                <option value="17">MATARA</option>
                <option value="18">MONARAGALA</option>
                <option value="19">MULLAITIVU</option>
                <option value="20">NUWARA_ELIYA</option>
                <option value="21">POLLANNARUWA</option>
                <option value="22">PUTTALAM</option>
                <option value="23">RATHNAPURA</option>
                <option value="24">TRINCOMALEE</option>
                <option value="25">VAVUNIYA</option>
            </select>
        </div>

        <input type="hidden" formControlName="district" class="form-control input-type-custom col mx-1" name="district">

        <div class="d-flex">
            <div class="w-50" *ngIf="userCreationForm.get('phone')?.invalid && (userCreationForm.get('phone')?.dirty || userCreationForm.get('phone')?.touched)">
                <small *ngIf="userCreationForm.get('phone')?.hasError('required')">
                    <p class="text-danger">phone is required</p>
                </small>
            </div>
    
            <div class="w-50" *ngIf="userCreationForm.get('district')?.invalid && (userCreationForm.get('district')?.dirty || userCreationForm.get('district')?.touched)">
                <small *ngIf="userCreationForm.get('district')?.hasError('required')">
                    <p class="text-danger">province is required</p>
                </small>
            </div>
        </div>

        <div class="mb-3 row">
            <select class="form-select input-type-custom col" name="input2" formControlName="province" (ngModelChange)="handleProvinceValue($event)">
                <option selected>Select District (required)</option>
                <option value="1">CENTRAL</option>
                <option value="2">EASTERN</option>
                <option value="3">NORTH_CENTRAL</option>
                <option value="4">NORTHERN</option>
                <option value="5">NORTH_WESTERN</option>
                <option value="6">SABARAGAMUWA</option>
                <option value="7">SOUTHERN</option>
                <option value="8">UVA</option>
                <option value="9">WESTERN</option>
            </select>
            <input type="text" class="form-control input-type-custom no-padding col mx-1" formControlName="city" name="city" placeholder="city">
        </div>

        <input type="hidden" formControlName="province" class="form-control input-type-custom col mx-1"  name="province">

        <div class="d-flex">
            <div class="w-50" *ngIf="userCreationForm.get('city')?.invalid && (userCreationForm.get('city')?.dirty || userCreationForm.get('city')?.touched)">
                <small *ngIf="userCreationForm.get('city')?.hasError('required')">
                    <p class="text-danger">phone is required</p>
                </small>
            </div>
    
            <div class="w-50" *ngIf="userCreationForm.get('province')?.invalid && (userCreationForm.get('province')?.dirty || userCreationForm.get('province')?.touched)">
                <small *ngIf="userCreationForm.get('province')?.hasError('required')">
                    <p class="text-danger">district is required</p>
                </small>
            </div>
        </div>
        <div class="mb-2 row">
            
            <div class="form-check col checkbox-div mb-3">
                <input type="checkbox" class="form-check-input border border-dark border-2 input-type-custom" ngModel name="checkbox1" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1">I aggree to terms and conditions</label><a href="#">Terms and conditions</a> 
              </div>
        </div>

        <div>
            <p class="mb-3 fw-normal">Are you a worker?<a href="worker/register"><span>Register as Worker</span></a></p> 
        </div>

        <div class="row">
            <button type="submit" [disabled]="userCreationForm.invalid" class="btn btn-success col mx-1">Register</button>
            <button type="reset" class="btn btn-danger col">Reset Form</button>
        </div>
      </form>
    </div>

    <div class="row justify-content-center align-items-center">
        <div class="col-6 align-items:center">
            <img src="assets/ureg6.jpg" class="image-class">
        </div>
    </div>

</div>


